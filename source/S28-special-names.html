<!DOCTYPE html>
<html lang="ja">
<head>
<title>S28-special-names</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
<link rel="stylesheet" href="http://yandex.st/highlightjs/8.0/styles/github.min.css">
<link rel="stylesheet" href="default.css">
<script src="http://yandex.st/highlightjs/8.0/highlight.min.js"></script>
<script>hljs.configure( { languages: ['perl'] } ); hljs.initHighlightingOnLoad();</script>
</head>
<body class='pod'>
<!--
  generated by My::Pod v,
  using Pod::Simple::PullParser v3.28,
  under Perl v5.018002 at Sat Aug 30 10:16:52 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to My::Pod, and/or subclassing My::Pod,
   then reconverting this document from the Pod source.
   When in doubt, email the author of My::Pod for advice.
   See 'perldoc My::Pod' for more info.

-->

<!-- start doc -->
<a name='___top' class='dummyTopAnchor' ></a>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#TITLE'>TITLE</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#VERSION'>VERSION</a>
  <li class='indexItem indexItem1'><a href='#Special_Variables'>Special Variables</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Introduction'>Introduction</a>
    <li class='indexItem indexItem2'><a href='#Overview'>Overview</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Secondary_Sigils_(also_known_as_%22twigils%22)'>Secondary Sigils (also known as &#34;twigils&#34;)</a>
      <li class='indexItem indexItem3'><a href='#Named_variables'>Named variables</a>
      <li class='indexItem indexItem3'><a href='#Perl5_to_Perl6_special_variable_translation'>Perl5 to Perl6 special variable translation</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#SPECIAL_VARIABLES_MORE_IN_DEPTH'>SPECIAL VARIABLES MORE IN DEPTH</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#%24%3FKERNEL_%2F_%24*KERNEL'>$?KERNEL / $*KERNEL</a>
      <li class='indexItem indexItem3'><a href='#%24%3FDISTRO_%2F_%24*DISTRO'>$?DISTRO / $*DISTRO</a>
      <li class='indexItem indexItem3'><a href='#%24%3FVM_%2F_%24*VM'>$?VM / $*VM</a>
      <li class='indexItem indexItem3'><a href='#%24%3FPERL_%2F_%24*PERL'>$?PERL / $*PERL</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#NOT_YET_DEFINED'>NOT YET DEFINED</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#Form.pm'>Form.pm</a>
      <li class='indexItem indexItem3'><a href='#S15-unicode.pod'>S15-unicode.pod</a>
      <li class='indexItem indexItem3'><a href='#Infectious_trait_spec'>Infectious trait spec</a>
    </ul>
  </ul>
  <li class='indexItem indexItem1'><a href='#Additions'>Additions</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TITLE"
>TITLE</a></h1>

<pre><code> [DRAFT] Synopsis 28 - Special Names [DRAFT]</code></pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<pre><code>Larry Wall &#60;larry@wall.org&#62;
Tim Nelson &#60;wayland@wayland.id.au&#62;
Lyle Hopkins &#60;webmaster@cosmicperl.com&#62;
Carl M&#228;sak &#60;cmasak@gmail.com&#62;</code></pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="VERSION"
>VERSION</a></h1>

<pre><code>Created: 23 Feb 2009, created by Tim Nelson from miscellaneous documents lying around

Last Modified: 27 Nov 2013
Version: 12</code></pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Special_Variables"
>Special Variables</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Introduction"
>Introduction</a></h2>

<p>This document serves as a collection point for what is known about special variables in Perl 6 and correlates them with the changes from Perl 5.</p>

<p>If you are trying to find the Perl 6 equivalent of a Perl 5 special variable you know, try searching this file for the Perl 5 version. Each main entry is followed by a note containing the corresponding Perl 5 variable(s). The list of main entries is also followed by a table showing the 5 and 6 variables side-by-side.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Overview"
>Overview</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Secondary_Sigils_(also_known_as_&#34;twigils&#34;)"
>Secondary Sigils (also known as &#34;twigils&#34;)</a></h3>

<p>A quick reminder of the relevant twigils from S02:</p>

<pre><code>$?foo   # Compiler constants (fixed at compile time)
$*foo   # Context variable, default global (run time)
$=foo   # File-scoped Pod data</code></pre>

<p>The various <code>$?foo</code> variables are determined at compile time, and are not modifiable at run time. This does not mean that the variable has the same value everywhere; for instance, <code>$?LINE</code> is different on every line of the program.</p>

<p>The <code>$*foo</code> variables function both as dynamically scoped variables and as globals. Globalness is relative, in other words. Any dynamic scope may modify the set of globals visible via the <code>$*foo</code> notation. Most of the standard globals listed below actually live either in the <code>PROCESS</code> or the <code>GLOBAL</code> package, where <code>PROCESS</code> contains globals belonging to the entire process, while <code>GLOBAL</code> contains the globals belonging to the current interpreter, since a process may be running more than one interpreter. Unless otherwise indicated below, the outermost definition of these variables are kept in the <code>PROCESS</code> package.</p>

<p>The <code>$=foo</code> variables are related to the <code>$?foo</code> variables insofar as the text of the program is known at compile time, so the values are static. However, the different twigil indicates that the variable contains Pod data, which is primarily under user control rather than compiler control. The structure of these variables will be fleshed out in S26.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Named_variables"
>Named variables</a></h3>

<pre><code> Variable          Spec  Type         Description
 --------          ----  ----         -----------

 @_                                   # ??? (FIX)
 $!                S04                # Current Exception object
 $/                S05   Match        # Last match
 $0, $1, $2        S05   Str          # First captured value from match: $/[0]
 @*ARGS            S06   Array of Str # command-line arguments
 $*ARGFILES        S02   IO::Handle   # The magic command-line input handle
 &#38;?BLOCK           S06   Block        # current block (itself)
 ::?CLASS          S12   Str          # current class (as package or type name)
 $?CLASS           S02   Class        # current class
 @=COMMENT        (S26)               # All the comment blocks in the file
 %?CONFIG                Hash of XXX  # configuration hash XXX What does this do?
 $*CWD             S16   IO::Path     # current working directory
 $=data           (S26)  IO           # data block handle (=begin data ... =end)
 %?DEEPMAGIC       S13   Hash of XXX  # Controls the mappings of magical names to sub definitions
 $?DISTRO          S02   Systemic     # Which OS distribution am I compiling under
 $*DISTRO          S02   Systemic     # Which OS distribution am I running under
 $*EGROUP                +Int,~Str    # effective $*GROUP
 %*ENV             S02   Hash of Str  # system environment variables
 $*ERR             S16   IO::Handle   # Standard error handle
 $*EUSER                 +Int,~Str    # effective $*USER
 $?COMPILER              IO::Path     # location of the compiler executable
 $*SHEBANG               IO::Path     # location of the interpreter executable (usually eqv $?COMPILER)
 $?FILE            S02   Str          # current filename of source file
 $?GRAMMAR         S02   Grammar      # current grammar
 $*GROUP                 +Int,~Str    # group id (numeric) or name (string)
 $*IN              S16   IO::Handle   # Standard input handle; is an IO object
 @*INC             S11                # where to search for user modules (but not std lib!)
 %?LANG            S02   Hash of Grammar # What is the current set of interwoven languages?
 $*LANG            S02   Str          # LANG variable from %*ENV that defines what human language is used
 $?LINE            S02   Int          # current line number in source file
 %*META-ARGS       S19   Hash of XXX  # Meta-arguments
 $?MODULE          S02   Module       # current module
 %*OPTS            S19   Hash of XXX  # Options from command line
 %*OPT...          S19   Hash of XXX  # Options from command line to be passed down
 $?KERNEL                Systemic     # operating system compiled for
 $*KERNEL                Systemic     # operating system running under
 $*OUT             S16   IO::Handle   # Standard output handle
 $?PACKAGE         S02   Package      # current package
 $?PERL            S02   Systemic     # Which Perl am I compiled for?
 $*PERL            S02   Systemic     # perl version running under
 $*PID                   Int          # system process id
 %=pod             S02                # (or some such)
 $*PROGRAM         S19   IO::Path     # location of the Perl program being executed
 %*PROTOCOLS       S16   Hash of Method # Stores the methods needed for the uri() function
 ::?ROLE                 Str          # current role (as package or type name)
 $?ROLE            S02   Role         # current role
 &#38;?ROUTINE         S06   Routine      # current sub or method (itself)
 $?SCOPE           S02                # Current &#34;my&#34; scope (XXX unnecessary?)
 $*TMPDIR          S16   IO::Path     # system temporary directory
 $*TZ              S32                # Local time zone
 $?USAGE           S06   Str          # Default usage message generated at compile time
 $*USER                  +Int,~Str    # user id (numeric) or name (string)
 $?VM              S02   Systemic     # Which virtual machine am I compiling under
 $?XVM             S02   Systemic     # Which virtual machine am I cross-compiling for</code></pre>

<p>Note that dynamic variables such as <code>$*OUT</code> may have more than one current definition in the outer dynamic context, in which case the innermost dynamic scope in which it is defined determines the meaning. For instance, <code>$PROCESS::OUT</code> is the stdout for the entire process, but each interpreter can set its own <code>$GLOBAL::OUT</code> to make <code>$*OUT</code> mean whatever it wants independently of other interpreters. Any dynamic scope may also declare a local meaning of <code>$*OUT</code> that applies only to called code. Likewise each thread could log its own errors to its own <code>$*ERR</code>, since a thread is a dynamic scope.</p>

<p>The <code>Systemic</code> role collects a few common features of some of the special variables such as <code>$*PERL</code>, <code>$?VM</code>, <code>$*KERNEL</code>, etc. It in turn relies on the <code>Universal</code> role that all cosmically unique entities must support in order to have a unique name.</p>

<pre><code>role Universal {
    has Str $.name;
    has Str $.auth;
    has Version $.version;
    has Blob $.signature;  # optional?
}
role Systemic does Universal {
    has $.desc;   # uname-ish version-like information goes here
    ...
}</code></pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Perl5_to_Perl6_special_variable_translation"
>Perl5 to Perl6 special variable translation</a></h3>

<p>If a column has a &#34;-&#34; in it, it means that item is unavailable in that version of Perl.</p>

<pre><code> Perl 5              Perl 6         Comment
 -----------         -----------    -----------------------
 STDIN               $*IN           See S16; actual variable is $PROCESS::IN
 STDOUT              $*OUT          See S16; actual variable is $PROCESS::OUT
 STDERR              $*ERR          See S16; actual variable is $PROCESS::ERR
 $_ $ARG             $_             More lexically aware
 $_[1],$_[2]..       $^a,$^b..
 $a,$b               -              Just params to anonymous block
 -                   $/             Object with results of last regex match
 $1,$2,$3...         $0,$1,$2...    Match capture variables start at 0
 $&#38; $MATCH           $&#60;&#62;
 $` $PREMATCH        substr based on $/.from
 $&#39; $POSTMATCH       substr based on $/.to
 $+                  -              But info can now be retrieved from $/
 $^N                 $*MOST_RECENT_CAPTURED_MATCH  ...or some such.
                   or $/[*-$n]                       ...or omit
 @-                  $1.from, etc
 @+                  $1.to, etc.
 %!                  -
 $[                  -              This feature has been removed
 $*                  -              Deprecated long ago
 $#                  -              Deprecated long ago
 $^H                 -              These were only ever internal anyway
 %^H                 -
 -                   $!             Current exception (see L&#60;S04&#62;)
 $! $ERRNO $OS_ERROR -              Use shiny new $!
 $?  $CHILD_ERROR    -              Use shiny new $!
 $@  $EVAL_ERROR     -              Use shiny new $!
 $^E                 -              Use shiny new $!
 $^S                 -
 $. $NR              $*IN.ins()
 $/ $RS              $*IN.input-line-separator()
 $|                  $*OUT.autoflush()
 $, $OFS             $*OUT.output_field_separator()
 $\                  $*OUT.output_record_separator()
 $&#34; $LIST_SEPARATOR  -
 $; $SUBSEP          -
 $$ $PID             $*PID
 $&#60; $UID             $*UID          Real UID (User ID)
 $( $GID             $*GID          Real GID (Group ID)
 $&#62; $EUID            $*EUID         Effective UID
 $) $EGID            $*EGID         Effective GID
 $0 $PROGRAM_NAME    $*PROGRAM (plus stringification)
 $^C $COMPILING      $*COMPILING
 $^D $DEBUGGING      $*DEBUGGING
 $^F $SYS_FD_MAX     $*SYS_FD_MAX   ...or some such
 $^I $INPLACE_EDIT   $*INPLACE_EDIT ...or some such
 $^M                 $*EMERGENCY_MEMORY ...or some such (or omit)
 $^O $OSNAME         $*KERNEL.name (or $*DISTRO.name or $*VM.name)
 $^P $PERLDB         $*PERLDB       ...or some such
 $^R                 $*LAST_REGEXP_CODE_RESULT   ...or some such. Or omit.
 $^T $BASETIME       $*INITTIME     A Temporal::Instant object
 $^V $]              $?PERL.version
 $^W                 $*WARNINGS (if any dynamic control needed)
 ${^WARNING_BITS}    $?WARNINGS
 $^X                 $?COMPILER or $*SHEBANG (plus stringification)
 ARGV                $*ARGFILES     Note the P6 idiom for this handle:
                                for lines() {
                                  # each time through loop
                                  # proc a line from files named in ARGS
                                }
 @ARGV               @*ARGS
 ARGVOUT             TBD
 $ARGV               TBD
 @F                  @_
 %ENV                %*ENV
 @INC                @*INC (but not for std library modules)
 %INC                no equivalent, encapsulated in CompUnitRepo object
 %SIG                event filters plus exception translation
 $SIG{__WARN__}      $*ON_WARN
 $SIG{__DIE__}       $*ON_DIE
 ${^OPEN}            -              This was internal; forget it</code></pre>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="SPECIAL_VARIABLES_MORE_IN_DEPTH"
>SPECIAL VARIABLES MORE IN DEPTH</a></h2>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="$?KERNEL_/_$*KERNEL"
>$?KERNEL / $*KERNEL</a></h3>

<p>Contains a <code>Kernel</code> class instance that does <code>Systemic</code>. It further provides the following methods:</p>

<dl>
<dt><a name="release"
>release</a></dt>

<dd>
<p>The release information of this kernel.</p>

<dt><a name="arch"
>arch</a></dt>

<dd>
<p>Processor architecture.</p>

<dt><a name="bits"
>bits</a></dt>

<dd>
<p>Number of bits used by architecture (typically 32 or 64 bits).</p>

<dt><a name="hardware"
>hardware</a></dt>

<dd>
<p>The processor hardware, if known.</p>

<dt><a name="signals"
>signals</a></dt>

<dd>
<p>An <code>Array</code> of <code>Signal</code>s that are supported by this <code>Kernel</code>, in which the ordinal number matches the lower level signal value.</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="$?DISTRO_/_$*DISTRO"
>$?DISTRO / $*DISTRO</a></h3>

<p>Contains a <code>Distro</code> class instance that does <code>Systemic</code>. It further provides the following methods:</p>

<dl>
<dt><a name="release"
>release</a></dt>

<dd>
<p>The release information of this distribution.</p>

<dt><a name="is-win"
>is-win</a></dt>

<dd>
<p>True if this is a Windows-like distribution.</p>

<dt><a name="path-sep"
>path-sep</a></dt>

<dd>
<p>The character that is used to separating paths in specifications, usually in environment variables such as <code>PATH</code>.</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="$?VM_/_$*VM"
>$?VM / $*VM</a></h3>

<p>Contains a <code>VM</code> class instance that does <code>Systemic</code>. It further provides the following methods:</p>

<dl>
<dt><a name="config"
>config</a></dt>

<dd>
<p>The configuration hash that was used to build the virtual machine.</p>

<dt><a name="precomp-ext"
>precomp-ext</a></dt>

<dd>
<p>The extension used by pre-compiled module files.</p>

<dt><a name="precomp-target"
>precomp-target</a></dt>

<dd>
<p>The name of the compilation stage to produce pre-compiled module files (typically used as &#34;--target=xxx&#34;).</p>
</dd>
</dl>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="$?PERL_/_$*PERL"
>$?PERL / $*PERL</a></h3>

<p>Contains a <code>Perl</code> class instance that does <code>Systemic</code>. It further provides the following methods:</p>

<dl>
<dt><a name="VMnames"
>VMnames</a></dt>

<dd>
<p>A list of <code>$?VM.name</code> / <code>$*VM.name</code> values known.</p>

<dt><a name="DISTROnames"
>DISTROnames</a></dt>

<dd>
<p>A list of <code>$?DISTRO.name</code> / <code>$*DISTRO.name</code> values known to have been seen with the current <code>$?VM.name</code> / <code>$*VM.name</code>.</p>

<dt><a name="compiler"
>compiler</a></dt>

<dd>
<p>Contains a <code>Compiler</code> class instance that does <code>Systemic</code>. It further provides the following methods:</p>

<dl>
<dt><a name="release"
>release</a></dt>

<dd>
<p>The release information of this version of Perl.</p>

<dt><a name="build-date"
>build-date</a></dt>

<dd>
<p>The <code>DateTime</code> this version of Perl was built.</p>

<dt><a name="codename"
>codename</a></dt>

<dd>
<p>The codename of this version of Perl.</p>
</dd>
</dl>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="NOT_YET_DEFINED"
>NOT YET DEFINED</a></h2>

<p>The following items are not yet defined, but will need to be defined.</p>

<p>XXX Don&#39;t remove this line until this section is completely blank.</p>

<p>The $?LANG and $*LANG variables are also confusing (both in S02).</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Form.pm"
>Form.pm</a></h3>

<p>These go in the Perl5 to Perl6 conversion table:</p>

<pre><code> Perl6   Perl5
 -----   -----------------------------------------
 -       $%  $FORMAT_PAGE_NUMBER
 -           HANDLE-&#62;format_page_number(EXPR)

 -       $=  $FORMAT_LINES_PER_PAGE
 -           HANDLE-&#62;format_lines_per_page(EXPR)

 -       $-  $FORMAT_LINES_LEFT
 -           HANDLE-&#62;format_lines_left(EXPR)

 -       $~  $FORMAT_NAME
 -           HANDLE-&#62;format_name(EXPR)

 -       $^  $FORMAT_TOP_NAME
 -           HANDLE-&#62;format_top_name(EXPR)

 -       $:  $FORMAT_LINE_BREAK_CHARACTERS
 -           IO::Handle-&#62;format_line_break_characters

 -       $^L $FORMAT_FORMFEED
 -           IO::Handle-&#62;format_formfeed

 -       $^A $ACCUMULATOR</code></pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="S15-unicode.pod"
>S15-unicode.pod</a></h3>

<p>${^ENCODING} variable -- S32/Str.pod implies this is $?ENC $?NF -- unicode normalisation form ${^UNICODE} variable</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="Infectious_trait_spec"
>Infectious trait spec</a></h3>

<p>${^TAINT} variable, which is pending, among other things, infectious trait spec</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="Additions"
>Additions</a></h1>

<p>Please post errors and feedback to perl6-language. If you are making a general laundry list, please separate messages by topic.</p>

<!-- end doc -->

</body></html>
